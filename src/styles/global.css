@config "../../tailwind.config.js";
@import "tailwindcss";

@font-face {
  font-family: "Inter";
  font-style: normal;
  font-display: swap;
  src: url(/fonts/Inter.var.woff2) format("woff2-variations");
  font-weight: 1 1000;
}

html {
  font-family: "Inter", system-ui, sans-serif;
}

:root {
  color-scheme: light;

  --surface-brand-light: #ffffff;
  --surface-brand-dark: oklch(19.09% 0.009 137.85);

  --text-brand-strong: #1a1a1a;
  --text-brand-inverse: oklch(91.24% 0.03 125.98);

  --cta-primary: #9fe870;
  --cta-primary-dark: oklch(85.7% 0.17 134.56);
  --cta-text-strong: #1a4d1a;
  --cta-text-inverse: #f1fff0;

  --surface-neutral-light: #f5f5f5;
  --surface-neutral-dark: oklch(23.89% 0.009 137.83);

  --color-surface: var(--surface-brand-light);
  --color-surface-soft: #f8fdf8;
  --color-surface-muted: #f1fff0;
  --color-surface-bold: #ecf6ec;
  --color-surface-strong: #e0ece0;
  --color-surface-deep: #d4e3d4;

  --color-bright-green: var(--cta-primary);
  --color-bright-green-active: color-mix(in srgb, var(--color-bright-green) 80%, var(--color-dark-green) 20%);
  --color-dark-green: #1a4d1a;
  --color-text-primary: var(--text-brand-strong);
  --color-text-secondary: color-mix(in srgb, var(--color-text-primary) 65%, white 35%);
  --color-border-strong: #b4b9b4;
  --color-border-soft: #dcdcdc;
  --color-neutral-layer: color-mix(in srgb, var(--color-dark-green) 8%, transparent);
  --color-neutral-layer-strong: color-mix(in srgb, var(--color-dark-green) 14%, transparent);
  --color-error-bright: #f87171;
  --color-error-dark: #991b1b;

  --color-white: #ffffff;
  --color-black-soft-1: oklch(19.09% 0.009 137.85);
  --color-black-soft-2: oklch(17.2% 0.01 137.2);
  --color-bg-light-alt: #f8fdf8;
  --color-bg-offwhite: #f1fff0;
  --color-green-brand: #9fe870;
  --color-green-dark: #1a4d1a;
  --color-grey-border-1: #b4b9b4;
  --color-grey-border-2: #b9beb9;
  --color-grey-border-3: #c8c8c8;
  --color-grey-border-4: #dcdcdc;
  --color-grey-card: #fafafa;
  --color-green-soft-1: #adbdb0;
  /* RGB triplet variables for alpha layering */
  --color-white-rgb: 255 255 255;
  --color-black-soft-1-rgb: 11 26 15;
  --color-black-soft-2-rgb: 6 11 8;
  --color-green-brand-rgb: 159 232 112;
  --color-green-dark-rgb: 26 77 26;
  --color-green-accent-rgb: 173 219 173;
  --color-grey-border-1-rgb: 180 185 180;
  --color-grey-border-2-rgb: 185 190 185;
  --color-grey-border-3-rgb: 200 200 200;
  --color-grey-border-4-rgb: 220 220 220;
  --color-grey-card-rgb: 250 250 250;
  --color-bg-light-alt-rgb: 248 253 248;
  --color-bg-offwhite-rgb: 241 255 240;
  --color-green-soft-1-rgb: 173 189 176;

  --motion-speed-fast: 45ms;
  --motion-speed-review: 600ms;
  --motion-speed-instant: 0ms;
}

/* Theme switching should be instant - no transitions during theme change */
html.theme-transitioning,
html.theme-transitioning *,
html.theme-transitioning *::before,
html.theme-transitioning *::after {
  transition-duration: 0ms !important;
  animation-duration: 0ms !important;
}

/* Clamp global motion so everything is instant except the review slider */
*,
*::before,
*::after {
  transition-duration: var(--motion-speed-fast) !important;
  animation-duration: var(--motion-speed-fast) !important;
}

.testimonial-track,
.testimonial-track * {
  transition-duration: var(--motion-speed-review) !important;
  animation-duration: var(--motion-speed-review) !important;
}

/* Smooth color transitions site-wide */
body,
html,
header,
main,
section,
footer {
  transition: background-color var(--motion-speed-fast) ease,
    color var(--motion-speed-fast) ease,
    border-color var(--motion-speed-fast) ease;
}

body {
  background-color: var(--color-brand-bg);
  /* Fallback for browsers without color-mix support */
  background-image: radial-gradient(
      1200px 1200px at -10% -20%,
      rgba(var(--color-green-accent-rgb) / 0.15) 0%,
      transparent 60%
    ),
    radial-gradient(
      900px 900px at 110% 10%,
      rgba(var(--color-green-accent-rgb) / 0.1) 0%,
      transparent 55%
    ),
    linear-gradient(
      180deg,
      var(--color-bg-light-alt) 0%,
      var(--color-brand-bg) 40%,
      var(--color-brand-bg) 100%
    );
  /* Enhanced version with color-mix for supporting browsers */
  background-image: radial-gradient(
      1200px 1200px at -10% -20%,
      color-mix(in oklch, var(--color-brand-cta) 20%, transparent) 0%,
      transparent 60%
    ),
    radial-gradient(
      900px 900px at 110% 10%,
      color-mix(in oklch, var(--color-brand-cta) 15%, transparent) 0%,
      transparent 55%
    ),
    linear-gradient(
      180deg,
      color-mix(in srgb, var(--color-brand-bg) 94%, var(--color-brand-cta) 6%) 0%,
      var(--color-brand-bg) 40%,
      var(--color-brand-bg) 100%
    );
  /* Use scroll instead of fixed for better mobile performance */
  background-attachment: scroll;
  color: var(--color-text-primary);
}

/* Fixed attachment only on larger screens where performance is better */
@media (min-width: 768px) {
  body {
    background-attachment: fixed;
  }
}

.dark body {
  background-color: var(--color-brand-bg);
  background-image: radial-gradient(
      1200px 1200px at -15% -12%,
      color-mix(in oklch, var(--color-bright-green) 26%, transparent) 0%,
      transparent 58%
    ),
    radial-gradient(
      900px 900px at 110% 6%,
      color-mix(in oklch, var(--color-bright-green) 22%, transparent) 0%,
      transparent 52%
    ),
    linear-gradient(
      180deg,
      color-mix(in oklch, var(--color-black-soft-1) 78%, var(--color-bright-green) 12%) 0%,
      var(--color-black-soft-2) 100%
    );
}

/* Tailwind v4 theme tokens */
@theme {
  --color-brand-bg: var(--surface-brand-light);
  --color-brand-bg-dark: var(--surface-brand-dark);
  --color-brand-text: var(--text-brand-strong);
  --color-brand-text-dark: var(--text-brand-inverse);
  --color-brand-cta: var(--cta-primary);
  --color-brand-cta-dark: var(--cta-primary-dark);
  --color-brand-cta-text: var(--cta-text-strong);
  --color-brand-cta-text-dark: var(--cta-text-inverse);
  --color-neutral-bg: var(--surface-neutral-light);
  --color-neutral-bg-dark: var(--surface-neutral-dark);
}

/* Dark mode class-based overrides – tokens from @yeahuz/kdsx-tailwind */
.dark {
  /* Surface scale */
  --color-surface: oklch(19.09% 0.009 137.85);
  --color-surface-soft: oklch(20.86% 0.009 137.84);
  --color-surface-muted: oklch(23.89% 0.009 137.83);
  --color-surface-bold: oklch(25.15% 0.009 137.82);
  --color-surface-strong: oklch(27.1% 0.011 139.43);
  --color-surface-deep: oklch(30.87% 0.008 137.81);
  /* Neutral */
  --color-neutral: oklch(23.89% 0.009 137.83);
  --color-neutral-active: oklch(26.5% 0.009 137.83);
  /* Borders */
  --color-border-strong: oklch(37.54% 0.023 135.14);
  --color-border-soft: oklch(27.29% 0.013 135.11);
  --color-border-bright: var(--color-bright-green);
  /* Text */
  --color-text-primary: oklch(91.24% 0.03 125.98);
  --color-text-secondary: oklch(82.4% 0.04 129.72);
  --color-text-bright: var(--color-bright-green);
  /* Error */
  --color-error-bright: oklch(83.83% 0.089 26.76);
  --color-error-dark: oklch(23.6% 0.096 27.19);
  /* Aliases */
  --color-dark-green-surface: var(--color-bright-green);
  --color-on-dark-green-surface: var(--color-dark-green);
  /* Brand overrides */
  --color-brand-bg: oklch(19.09% 0.009 137.85);
  --color-brand-text: oklch(91.24% 0.03 125.98);
  --color-brand-cta: oklch(85.7% 0.17 134.56);
  --color-brand-cta-text: var(--cta-text-inverse);
  --color-neutral-bg: oklch(23.89% 0.009 137.83);
  color-scheme: dark;
}

@layer utilities {
  /* Unified typography scale */
  .t-h1 {
    @apply text-4xl sm:text-5xl md:text-6xl font-semibold tracking-tight;
  }
  .t-h2 {
    @apply text-3xl sm:text-4xl md:text-5xl font-semibold tracking-tight;
  }
  .t-h3 {
    @apply text-xl sm:text-2xl font-semibold;
  }
  .t-body {
    @apply text-base sm:text-lg leading-relaxed;
  }
  .t-quote {
    @apply text-lg sm:text-2xl font-semibold leading-relaxed;
  }
  .t-small {
    @apply text-sm;
  }
  .t-caption {
    @apply text-xs;
  }

  .surface-card {
    position: relative;
    isolation: isolate;
    overflow: hidden;
    border-radius: 1.5rem;
    /* Fallback + default border (increased contrast for light theme) */
    border: 1px solid rgba(var(--color-grey-border-1-rgb) / 0.65);
    background: rgba(var(--color-grey-card-rgb) / 0.94);
    /* External elevation + subtle inner highlight for definition */
    box-shadow: 0 18px 44px -28px rgba(var(--color-green-dark-rgb) / 0.38), inset 0 0 0 1px rgba(var(--color-white-rgb) / 0.35);
    /* Enhanced version with backdrop-filter for supporting browsers (keep same border for consistency) */
    background: rgba(var(--color-white-rgb) / 0.72);
    backdrop-filter: blur(26px);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    color: var(--color-brand-text);
  }

  /* Feature query for browsers that don't support backdrop-filter */
  @supports not (backdrop-filter: blur(32px)) {
    .surface-card {
      background: rgba(var(--color-grey-card-rgb) / 0.98);
      border: 1px solid rgba(var(--color-grey-border-3-rgb) / 0.5);
    }
  }

  .surface-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 26px 56px -34px rgba(var(--color-green-dark-rgb) / 0.48);
  }

  .dark .surface-card {
    border-color: var(--color-border-soft);
    background: var(--color-surface-soft);
    box-shadow: 0 28px 72px -38px rgba(0, 0, 0, 0.82);
    color: var(--color-text-primary);
  }

  .feature-panel {
    position: relative;
    overflow: hidden;
    border-radius: 1.75rem;
    background: transparent;
  }

  .dark .feature-panel {
    background: transparent;
    color: var(--color-brand-text-dark);
  }

  .lang-select {
    appearance: none;
    border-radius: 999px;
    border: 1px solid rgba(var(--color-grey-border-2-rgb) / 0.7);
    background: rgba(var(--color-white-rgb) / 0.86);
    padding: 0.55rem 2.6rem 0.55rem 1.1rem;
    font-size: 0.78rem;
    font-weight: 600;
    letter-spacing: 0.18em;
    text-transform: uppercase;
    color: var(--color-text-primary);
    cursor: pointer;
    transition: border-color 0.2s ease, box-shadow 0.2s ease,
      background 0.2s ease;
  }

  .lang-select:focus-visible {
    outline: none;
    border-color: var(--color-bright-green);
    box-shadow: 0 0 0 3px rgba(var(--color-green-accent-rgb) / 0.28);
  }

  .lang-select:hover {
    background: rgba(var(--color-white-rgb) / 1);
  }

  .dark .lang-select {
    background: var(--color-surface-muted);
    border: 1px solid var(--color-border-soft);
    color: var(--color-text-primary);
  }

  .dark .lang-select:hover {
    background: var(--color-surface-bold);
  }

  .dark .lang-select:focus-visible {
    border-color: var(--color-border-bright);
    box-shadow: 0 0 0 3px color-mix(in oklch, var(--color-bright-green) 32%, transparent);
  }

  .btn-solid,
  .btn-ghost {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 999px;
    font-weight: 600;
    letter-spacing: -0.01em;
    transition: transform 0.18s ease, box-shadow 0.18s ease,
      background 0.18s ease, border-color 0.18s ease, color 0.18s ease;
  }

  .btn-solid {
    background: var(--color-bright-green);
    color: var(--color-dark-green);
    border: 1px solid color-mix(in oklch, var(--color-dark-green) 18%, transparent);
    box-shadow: 0 18px 44px -24px color-mix(in oklch, var(--color-dark-green) 35%, transparent), inset 0 0 0 1px color-mix(in oklch, var(--color-white) 35%, transparent);
  }

  .btn-solid:hover {
    transform: translateY(-1px) scale(1.01);
    box-shadow: 0 22px 56px -28px color-mix(in oklch, var(--color-dark-green) 40%, transparent);
  }

  .btn-solid:focus-visible {
    outline: 2px solid color-mix(in oklch, var(--color-bright-green) 55%, transparent);
    outline-offset: 2px;
  }

  .btn-solid:disabled,
  .btn-ghost:disabled {
    opacity: 0.55;
    cursor: not-allowed;
  }

  .dark .btn-solid {
    background: var(--color-bright-green);
    color: var(--color-dark-green);
    border-color: transparent;
    box-shadow: 0 0 0 1px var(--color-border-soft), 0 22px 56px -28px color-mix(in oklch, var(--color-bright-green) 36%, transparent);
  }

  .dark .btn-solid:hover {
    background: var(--color-bright-green-active);
  }

  .btn-ghost {
    border: 1px solid rgba(var(--color-grey-border-2-rgb) / 0.7);
    background: rgba(var(--color-white-rgb) / 0.86);
    color: var(--color-text-primary);
    box-shadow: none;
  }

  .btn-ghost:hover {
    transform: translateY(-1px);
    background: rgba(var(--color-white-rgb) / 1);
  }

  .btn-ghost:focus-visible {
    outline: 2px solid color-mix(in oklch, var(--color-bright-green) 35%, transparent);
    outline-offset: 2px;
  }

  .dark .btn-ghost {
    background: var(--color-neutral);
    border-color: var(--color-border-soft);
    color: var(--color-text-primary);
    box-shadow: none;
  }

  .dark .btn-ghost:hover {
    background: var(--color-neutral-active);
  }

  .pro-card {
    position: relative;
    overflow: hidden;
    border-radius: 32px;
    padding: 1px;
    border: 1px solid color-mix(in oklch, var(--color-dark-green) 28%, transparent);
    background: linear-gradient(
      140deg,
      color-mix(in oklch, var(--color-bright-green) 32%, white 68%) 0%,
      color-mix(in oklch, var(--color-surface) 92%, white 8%) 100%
    );
    box-shadow: 0 34px 110px -58px color-mix(in oklch, var(--color-dark-green) 42%, transparent);
  }

  .pro-card__inner {
    border-radius: 32px;
    /* backdrop-filter: blur(20px); */
    padding: 2.25rem;
    text-align: center;
    color: var(--color-brand-text);
    /* background: color-mix(in oklch, var(--color-surface) 94%, white 6%); */
  }

  .dark .pro-card {
    border-color: var(--color-border-soft);
    background: linear-gradient(
      160deg,
      color-mix(in oklch, var(--color-bright-green) 18%, var(--color-surface) 82%) 0%,
      var(--color-surface) 100%
    );
    box-shadow: 0 34px 110px -58px rgba(0, 0, 0, 0.74);
  }

  .dark .pro-card__inner {
    background: var(--color-surface-soft);
    color: var(--color-text-primary);
    backdrop-filter: blur(18px);
  }

  .section-shell {
    position: relative;
    overflow: hidden;
    border-radius: 32px;
    /* Solid fallback for browsers without backdrop-filter */
    border: 1px solid rgba(var(--color-grey-border-4-rgb) / 0.5);
    background: rgba(var(--color-grey-card-rgb) / 0.95);
    box-shadow: 0 40px 140px -85px rgba(var(--color-green-dark-rgb) / 0.42);
    /* Enhanced version with backdrop-filter for supporting browsers */
    border: 1px solid rgba(var(--color-white-rgb) / 0.22);
    background: rgba(var(--color-white-rgb) / 0.76);
    backdrop-filter: blur(28px);
    color: var(--color-brand-text);
  }

  /* Better fallback for browsers without backdrop-filter */
  @supports not (backdrop-filter: blur(30px)) {
    .section-shell {
      background: rgba(var(--color-grey-card-rgb) / 0.98);
      border: 1px solid rgba(var(--color-grey-border-4-rgb) / 0.7);
    }
  }

  .section-shell::before {
    content: "";
    position: absolute;
    inset: -42% 14% auto;
    height: 62%;
    border-radius: 1000px;
    background: radial-gradient(
      circle,
      color-mix(in oklch, var(--color-brand-cta) 52%, transparent) 0%,
      transparent 70%
    );
    opacity: 0.18;
    filter: blur(20px);
    pointer-events: none;
  }

  .section-shell::after {
    content: "";
    position: absolute;
    inset: auto -26% -50% auto;
    width: 48%;
    height: 48%;
    border-radius: 50%;
    background: radial-gradient(
      circle,
      color-mix(in srgb, var(--color-brand-cta) 36%, transparent) 0%,
      transparent 70%
    );
    opacity: 0.16;
    filter: blur(28px);
    pointer-events: none;
  }

  .dark .section-shell {
    border-color: var(--color-border-soft);
    background: var(--color-surface-soft);
    box-shadow: 0 52px 170px -90px rgba(0, 0, 0, 0.62);
    color: var(--color-text-primary);
  }

  .shell-capsule {
    border-radius: 999px;
    border: 1px solid var(--color-border-soft);
    background: var(--color-surface);
    box-shadow: 0 20px 70px -50px color-mix(in oklch, var(--color-dark-green) 20%, transparent);
    backdrop-filter: blur(8px);
  }

  .dark .shell-capsule {
    border-color: var(--color-border-soft);
    background: var(--color-surface-muted);
    box-shadow: 0 24px 80px -60px rgba(0, 0, 0, 0.75);
  }

  .badge-pill {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    border-radius: 999px;
    border: 1px solid rgba(var(--color-grey-border-2-rgb) / 0.7);
    background: rgba(var(--color-white-rgb) / 0.86);
    box-shadow: 0 12px 32px -20px rgba(var(--color-green-dark-rgb) / 0.25);
    padding: 0.5rem 1.25rem;
    font-size: 0.75rem;
    font-weight: 600;
    letter-spacing: 0.3em;
    text-transform: uppercase;
    color: var(--color-text-secondary);
  }

  .badge-pill:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(var(--color-green-accent-rgb) / 0.35), inset 0 0 0 1px rgba(var(--color-white-rgb) / 0.55);
  }

  .dark .badge-pill {
    border-color: var(--color-border-soft);
    background: var(--color-neutral);
    color: var(--color-text-secondary);
  }

  .suite-chip {
    display: inline-flex;
    align-items: center;
    border-radius: 999px;
    border: 1px solid rgba(var(--color-grey-border-2-rgb) / 0.7);
    background: rgba(var(--color-white-rgb) / 0.86);
    padding: 0.35rem 1.35rem;
    font-size: 0.62rem;
    font-weight: 600;
    letter-spacing: 0.28em;
    text-transform: uppercase;
    color: var(--color-text-secondary);
  }

  .dark .suite-chip {
    border-color: var(--color-border-soft);
    background: var(--color-neutral);
    color: var(--color-text-secondary);
  }

  /* Enterprise ribbon & pill style (used for 맞춤형 & unified feature tags) */
  .enterprise-ribbon {
    display: inline-flex;
    align-items: center;
    font-size: 0.65rem;
    font-weight: 600;
    letter-spacing: 0.28em;
    text-transform: uppercase;
    padding: 0.45rem 0.9rem;
    border-radius: 999px;
    background: rgba(var(--color-white-rgb) / 0.9);
    border: 1px solid rgba(var(--color-grey-border-2-rgb) / 0.75);
    box-shadow: 0 10px 28px -18px rgba(var(--color-green-dark-rgb) / 0.42), inset 0 0 0 1px rgba(var(--color-white-rgb) / 0.5);
    color: var(--color-brand-cta-text);
  }

  .dark .enterprise-ribbon {
    background: var(--color-neutral);
    border-color: var(--color-border-soft);
    color: var(--color-text-primary);
    box-shadow: none;
  }

  .enterprise-ribbon:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(var(--color-green-accent-rgb) / 0.35), inset 0 0 0 1px rgba(var(--color-white-rgb) / 0.55);
  }

  .enterprise-pill {
    display: inline-flex;
    align-items: center;
    font-size: 0.625rem;
    font-weight: 600;
    letter-spacing: 0.26em;
    text-transform: uppercase;
    padding: 0.55rem 0.95rem 0.5rem;
    border-radius: 1.2rem;
    background: rgba(var(--color-white-rgb) / 0.86);
    border: 1px solid rgba(var(--color-grey-border-2-rgb) / 0.7);
    box-shadow: 0 8px 22px -14px rgba(var(--color-green-dark-rgb) / 0.42), inset 0 0 0 1px rgba(var(--color-white-rgb) / 0.55);
    color: var(--color-brand-cta-text);
  }

  .dark .enterprise-pill {
    background: var(--color-neutral);
    border-color: var(--color-border-soft);
    color: var(--color-text-primary);
    box-shadow: none;
  }

  .enterprise-pill:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(var(--color-green-accent-rgb) / 0.35), inset 0 0 0 1px rgba(var(--color-white-rgb) / 0.55);
  }

  /* NOTE: page-section/page-shell utilities were removed to restore original
     per-component spacing per request. Adjust spacing per-component instead. */

  /* Improved contrast for browsers without advanced features */
  @supports not (backdrop-filter: blur(10px)) {
    .badge-pill {
      background: rgba(var(--color-grey-card-rgb) / 1);
      border: 1px solid rgba(var(--color-grey-border-3-rgb) / 0.9);
    }
  }
}
